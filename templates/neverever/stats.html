{% extends 'neverever/baseTemplate.html' %}

{% load staticfiles %}

{% block title %} - Statistics{% endblock %}

{% block body_block %}
    <h1>Statistics</h1>
    <h3>Under development</h3>

    <ul class="menu"> 
        <li id="catlist">Categories - Hover Here
            <ul style="visibility: hidden">
            {% for category in categories %}
                <li class="cat_list_item" style="list-style-type:none">{{ category.name }}</li>
            {% endfor %}
            </ul>
        </li>
    </ul>

    {% if globalCounter %}
        <br />Total games: {{ globalCounter.total_sessions }}
        <br />Total number of players: {{ globalCounter.total_players }}
        <br />
    {% endif %}
<div id="statements">
    {% if statements %}
        <br />
        {% for statement in statements %}
            "Never have I ever {{ statement.title }}":
            {% if statement.total %}
                {{ statement.yes }}
                {% if statement.yes_percentage %}
                    ({{ statement.yes_percentage }}%)
                {% endif %}
                answered Yes.
                {{ statement.no }}
                {% if statement.no_percentage %}
                    ({{ statement.no_percentage }}%)
                {% endif %}
                answered No.
                (Total: {{ statement.total }})
            {% else %}
                No answers yet.
            {% endif %}
            <br />
        {% endfor %}
    {% endif %}
</div>
    {% if results %}
        <br /><b>Results</b><br />
        {% for result in results %}
            - Statement: {{ result.statement }}<br />
            - Answer:
            {%  if result.answer %}
                Yes
            {% else %}
                No
            {% endif %}
            <br />
            {% if result.nationality %}
                - Nationality: {{ result.nationality }} <br />
            {% endif %}
            {% if result.age %}
                - Age: {{ result.age }} <br />
            {% endif %}
            {% if result.gender %}
                - Gender: {{ result.gender }} <br />
            {% endif %}
            <br />
        {% endfor %}
    {% endif %}
    <br><a href="{%  url 'index' %}">Return to main page</a>
{% endblock %}

{% block footer_block %}
    <!-- AJAX -->
    <script src="{% static "js/neverever-stats-ajax.js" %}"></script>
{% endblock %}